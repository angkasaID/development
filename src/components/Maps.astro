---
// src/components/Maps.astro
import { UNDANGAN_CONFIG } from '../data/config'
import OrnamentBackground from './OrnamentBackground.astro'

// Ambil data yang diperlukan
const { locationFullAddress, gmapsLink, mapsIframeUrl, locationName } =
  UNDANGAN_CONFIG

// Mengatur lokasi default untuk ditampilkan
const mapAddress = locationFullAddress || 'Alamat Belum Ditetapkan'
---

<div
  id="maps"
  class="angkasa_slide relative flex snap-start items-center justify-center overflow-hidden"
  data-section="maps"
>
  <OrnamentBackground />
  <div
    class="angkasa_inner flex h-[calc(100dvh-80px)] w-full flex-col justify-center px-6 py-6 pt-10 sm:px-6 sm:py-8"
  >
    <div
      class="blur-card animated-content flex h-full w-full max-w-[540px] flex-col justify-center rounded-3xl border border-[var(--menu-bg)] bg-white/30 p-6 shadow-lg backdrop-blur-sm sm:p-8"
    >
      <div
        class="content-layer font-dekor-1 mx-auto w-full max-w-[420px] px-4 py-4 text-center sm:px-6"
      >
        <!-- MAPS WRAPPER -->
        <div
          data-animation-class="animate__zoomIn"
          class="ornament-item animate__slower mx-auto mb-6 w-full"
        >
          <div
            class="relative w-full overflow-hidden rounded-2xl border-2 border-(--inv-border) shadow-[0_4px_14px_rgba(0,0,0,0.15)]"
            style="aspect-ratio: 1 / 1"
          >
            <iframe
              id="maps-iframe"
              src={mapsIframeUrl}
              class="absolute inset-0 h-full w-full"
              allowfullscreen=""
              loading="lazy"
              referrerpolicy="no-referrer-when-downgrade"
              style="border: 0"></iframe>
          </div>
        </div>

        <div
          data-animation-class="animate__fadeInUp"
          class="ornament-item animate__slow text-center"
        >
          <div
            id="maps-title"
            class="font-judul color-accent mb-3 text-xl italic"
          >
            {locationName}
          </div>
          <div></div>

          <div id="maps-address" class="font-dekor-1 mb-3 text-[15px]">
            {mapAddress}
          </div>

          <a
            data-animation-class="animate__fadeInUp"
            id="maps-button"
            href={gmapsLink}
            target="_blank"
            class="ornament-item color-accent-2 border-accent animate__delay-2s mx-auto inline-block w-60 transform rounded-full border px-6 py-3 text-sm font-bold uppercase shadow-inner transition duration-300 hover:bg-white/10"
          >
            <i class="fas fa-map-marked-alt mr-2"></i> Buka di Maps
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
