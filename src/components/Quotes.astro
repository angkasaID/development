---
// src/components/Ucapan.astro
import { UNDANGAN_CONFIG } from '../data/config'
import OrnamentBackground from './OrnamentBackground.astro' // Menggunakan komponen latar belakang

// Mengambil objek quote dari config
const { quote } = UNDANGAN_CONFIG

// Teks Arab untuk QS. Ar-Rum: 21 (Diambil dari konteks sebelumnya)
const finalArabicQuote = quote?.arabicText
  ? quote.arabicText
  : 'Teks Arab tidak tersedia.'

// Data yang akan ditampilkan
const finalQuoteTranslation = quote?.text
  ? quote.text
  : '"[Error: Teks quote tidak ditemukan di config]"'
const finalQuoteSource = quote?.source
  ? `✤ ${quote.source} ✤`
  : '✤ Sumber tidak tersedia ✤'
---

<div
  id="ucapan"
  class="angkasa_slide relative flex snap-start items-center justify-center overflow-hidden"
  data-section="ucapan"
>
  <OrnamentBackground />
  <div
    class="angkasa_inner flex h-[calc(100dvh-80px)] w-full flex-col justify-center px-6 py-6 pt-10 sm:px-6 sm:py-8"
  >
    <div
      class="blur-card animated-content flex h-full w-full max-w-[540px] flex-col justify-center rounded-3xl bg-(--inv-bg)/30 p-6 shadow-lg backdrop-blur-sm sm:p-8"
    >
      <div
        class="content-layer font-dekor-1 mx-auto w-full max-w-[460px] px-4 py-6 text-center sm:px-6 sm:py-8"
      >
        <!-- WAYANG ICON -->
        <div
          data-animation-class="animate__fadeInDown"
          class="ornament-item animate__slower mx-auto mb-6 w-[50px]"
        >
          <img
            src="/asset/images/wayang-kecil.png"
            alt="wayang kecil"
            class="h-auto w-full object-contain"
          />
        </div>

        <!-- SOURCE -->
        <div
          data-animation-class="animate__fadeInDown"
          class="ornament-item animate__slower color-accent font-judul mb-4 text-base italic sm:text-lg"
        >
          {finalQuoteSource}
        </div>

        <!-- ARABIC QUOTE -->
        <div
          data-animation-class="animate__zoomIn"
          class="color-accent quotes ornament-item animate__slower mb-6 text-[clamp(30px,6vw,40px)] leading-normal"
        >
          <Fragment set:html={finalArabicQuote} />
        </div>

        <!-- TRANSLATION -->
        <div
          data-animation-class="animate__fadeInUp"
          class="quotes ornament-item animate__slower font-dekor-1 px-2 text-[clamp(14px,3.5vw,16px)] leading-relaxed italic"
        >
          “<Fragment set:html={finalQuoteTranslation} />”
        </div>
      </div>
    </div>
  </div>
</div>
